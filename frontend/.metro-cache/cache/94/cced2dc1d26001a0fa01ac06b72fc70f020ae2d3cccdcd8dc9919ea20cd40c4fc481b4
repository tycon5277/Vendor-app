{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  const useAuthStore = (0, _zustand.create)((set, get) => ({\n    user: null,\n    token: null,\n    isLoading: true,\n    isAuthenticated: false,\n    isVendor: false,\n    setUser: user => {\n      set({\n        user,\n        isAuthenticated: !!user,\n        isVendor: user?.partner_type === 'vendor'\n      });\n      if (user) {\n        AsyncStorage.default.setItem('user', JSON.stringify(user));\n      } else {\n        AsyncStorage.default.removeItem('user');\n      }\n    },\n    setToken: token => {\n      set({\n        token\n      });\n      if (token) {\n        AsyncStorage.default.setItem('token', token);\n      } else {\n        AsyncStorage.default.removeItem('token');\n      }\n    },\n    setLoading: isLoading => set({\n      isLoading\n    }),\n    logout: async () => {\n      try {\n        await AsyncStorage.default.multiRemove(['user', 'token']);\n        // Also clear localStorage for web\n        if (false && window.localStorage) {\n          window.localStorage.removeItem('user');\n          window.localStorage.removeItem('token');\n          window.localStorage.clear();\n        }\n      } catch (e) {\n        console.log('Logout storage clear error:', e);\n      }\n      set({\n        user: null,\n        token: null,\n        isAuthenticated: false,\n        isVendor: false\n      });\n    },\n    loadStoredAuth: async () => {\n      try {\n        const [userStr, token] = await Promise.all([AsyncStorage.default.getItem('user'), AsyncStorage.default.getItem('token')]);\n        if (userStr && token) {\n          const user = JSON.parse(userStr);\n          set({\n            user,\n            token,\n            isAuthenticated: true,\n            isVendor: user?.partner_type === 'vendor',\n            isLoading: false\n          });\n        } else {\n          set({\n            isLoading: false\n          });\n        }\n      } catch (error) {\n        console.error('Error loading stored auth:', error);\n        set({\n          isLoading: false\n        });\n      }\n    }\n  }));\n});","lineCount":96,"map":[[12,2,18,0,"Object"],[12,8,18,0],[12,9,18,0,"defineProperty"],[12,23,18,0],[12,24,18,0,"exports"],[12,31,18,0],[13,4,18,0,"enumerable"],[13,14,18,0],[14,4,18,0,"get"],[14,7,18,0],[14,18,18,0,"get"],[14,19,18,0],[15,6,18,0],[15,13,18,0,"useAuthStore"],[15,25,18,0],[16,4,18,0],[17,2,18,0],[18,2,1,0],[18,6,1,0,"_zustand"],[18,14,1,0],[18,17,1,0,"require"],[18,24,1,0],[18,25,1,0,"_dependencyMap"],[18,39,1,0],[19,2,2,0],[19,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,2,0],[19,45,2,0,"require"],[19,52,2,0],[19,53,2,0,"_dependencyMap"],[19,67,2,0],[20,2,2,0],[20,6,2,0,"AsyncStorage"],[20,18,2,0],[20,21,2,0,"_interopDefault"],[20,36,2,0],[20,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,2,0],[21,2,18,7],[21,8,18,13,"useAuthStore"],[21,20,18,25],[21,23,18,28],[21,27,18,28,"create"],[21,35,18,34],[21,36,18,34,"create"],[21,42,18,34],[21,44,18,46],[21,45,18,47,"set"],[21,48,18,50],[21,50,18,52,"get"],[21,53,18,55],[21,59,18,61],[22,4,19,2,"user"],[22,8,19,6],[22,10,19,8],[22,14,19,12],[23,4,20,2,"token"],[23,9,20,7],[23,11,20,9],[23,15,20,13],[24,4,21,2,"isLoading"],[24,13,21,11],[24,15,21,13],[24,19,21,17],[25,4,22,2,"isAuthenticated"],[25,19,22,17],[25,21,22,19],[25,26,22,24],[26,4,23,2,"isVendor"],[26,12,23,10],[26,14,23,12],[26,19,23,17],[27,4,25,2,"setUser"],[27,11,25,9],[27,13,25,12,"user"],[27,17,25,16],[27,21,25,21],[28,6,26,4,"set"],[28,9,26,7],[28,10,26,8],[29,8,27,6,"user"],[29,12,27,10],[30,8,28,6,"isAuthenticated"],[30,23,28,21],[30,25,28,23],[30,26,28,24],[30,27,28,25,"user"],[30,31,28,29],[31,8,29,6,"isVendor"],[31,16,29,14],[31,18,29,16,"user"],[31,22,29,20],[31,24,29,22,"partner_type"],[31,36,29,34],[31,41,29,39],[32,6,30,4],[32,7,30,5],[32,8,30,6],[33,6,31,4],[33,10,31,8,"user"],[33,14,31,12],[33,16,31,14],[34,8,32,6,"AsyncStorage"],[34,20,32,18],[34,21,32,18,"default"],[34,28,32,18],[34,29,32,19,"setItem"],[34,36,32,26],[34,37,32,27],[34,43,32,33],[34,45,32,35,"JSON"],[34,49,32,39],[34,50,32,40,"stringify"],[34,59,32,49],[34,60,32,50,"user"],[34,64,32,54],[34,65,32,55],[34,66,32,56],[35,6,33,4],[35,7,33,5],[35,13,33,11],[36,8,34,6,"AsyncStorage"],[36,20,34,18],[36,21,34,18,"default"],[36,28,34,18],[36,29,34,19,"removeItem"],[36,39,34,29],[36,40,34,30],[36,46,34,36],[36,47,34,37],[37,6,35,4],[38,4,36,2],[38,5,36,3],[39,4,38,2,"setToken"],[39,12,38,10],[39,14,38,13,"token"],[39,19,38,18],[39,23,38,23],[40,6,39,4,"set"],[40,9,39,7],[40,10,39,8],[41,8,39,10,"token"],[42,6,39,16],[42,7,39,17],[42,8,39,18],[43,6,40,4],[43,10,40,8,"token"],[43,15,40,13],[43,17,40,15],[44,8,41,6,"AsyncStorage"],[44,20,41,18],[44,21,41,18,"default"],[44,28,41,18],[44,29,41,19,"setItem"],[44,36,41,26],[44,37,41,27],[44,44,41,34],[44,46,41,36,"token"],[44,51,41,41],[44,52,41,42],[45,6,42,4],[45,7,42,5],[45,13,42,11],[46,8,43,6,"AsyncStorage"],[46,20,43,18],[46,21,43,18,"default"],[46,28,43,18],[46,29,43,19,"removeItem"],[46,39,43,29],[46,40,43,30],[46,47,43,37],[46,48,43,38],[47,6,44,4],[48,4,45,2],[48,5,45,3],[49,4,47,2,"setLoading"],[49,14,47,12],[49,16,47,15,"isLoading"],[49,25,47,24],[49,29,47,29,"set"],[49,32,47,32],[49,33,47,33],[50,6,47,35,"isLoading"],[51,4,47,45],[51,5,47,46],[51,6,47,47],[52,4,49,2,"logout"],[52,10,49,8],[52,12,49,10],[52,18,49,10,"logout"],[52,19,49,10],[52,24,49,22],[53,6,50,4],[53,10,50,8],[54,8,51,6],[54,14,51,12,"AsyncStorage"],[54,26,51,24],[54,27,51,24,"default"],[54,34,51,24],[54,35,51,25,"multiRemove"],[54,46,51,36],[54,47,51,37],[54,48,51,38],[54,54,51,44],[54,56,51,46],[54,63,51,53],[54,64,51,54],[54,65,51,55],[55,8,52,6],[56,8,53,6],[56,12,53,10],[56,21,53,43,"window"],[56,27,53,49],[56,28,53,50,"localStorage"],[56,40,53,62],[56,42,53,64],[57,10,54,8,"window"],[57,16,54,14],[57,17,54,15,"localStorage"],[57,29,54,27],[57,30,54,28,"removeItem"],[57,40,54,38],[57,41,54,39],[57,47,54,45],[57,48,54,46],[58,10,55,8,"window"],[58,16,55,14],[58,17,55,15,"localStorage"],[58,29,55,27],[58,30,55,28,"removeItem"],[58,40,55,38],[58,41,55,39],[58,48,55,46],[58,49,55,47],[59,10,56,8,"window"],[59,16,56,14],[59,17,56,15,"localStorage"],[59,29,56,27],[59,30,56,28,"clear"],[59,35,56,33],[59,36,56,34],[59,37,56,35],[60,8,57,6],[61,6,58,4],[61,7,58,5],[61,8,58,6],[61,15,58,13,"e"],[61,16,58,14],[61,18,58,16],[62,8,59,6,"console"],[62,15,59,13],[62,16,59,14,"log"],[62,19,59,17],[62,20,59,18],[62,49,59,47],[62,51,59,49,"e"],[62,52,59,50],[62,53,59,51],[63,6,60,4],[64,6,61,4,"set"],[64,9,61,7],[64,10,61,8],[65,8,62,6,"user"],[65,12,62,10],[65,14,62,12],[65,18,62,16],[66,8,63,6,"token"],[66,13,63,11],[66,15,63,13],[66,19,63,17],[67,8,64,6,"isAuthenticated"],[67,23,64,21],[67,25,64,23],[67,30,64,28],[68,8,65,6,"isVendor"],[68,16,65,14],[68,18,65,16],[69,6,66,4],[69,7,66,5],[69,8,66,6],[70,4,67,2],[70,5,67,3],[71,4,69,2,"loadStoredAuth"],[71,18,69,16],[71,20,69,18],[71,26,69,18,"loadStoredAuth"],[71,27,69,18],[71,32,69,30],[72,6,70,4],[72,10,70,8],[73,8,71,6],[73,14,71,12],[73,15,71,13,"userStr"],[73,22,71,20],[73,24,71,22,"token"],[73,29,71,27],[73,30,71,28],[73,33,71,31],[73,39,71,37,"Promise"],[73,46,71,44],[73,47,71,45,"all"],[73,50,71,48],[73,51,71,49],[73,52,72,8,"AsyncStorage"],[73,64,72,20],[73,65,72,20,"default"],[73,72,72,20],[73,73,72,21,"getItem"],[73,80,72,28],[73,81,72,29],[73,87,72,35],[73,88,72,36],[73,90,73,8,"AsyncStorage"],[73,102,73,20],[73,103,73,20,"default"],[73,110,73,20],[73,111,73,21,"getItem"],[73,118,73,28],[73,119,73,29],[73,126,73,36],[73,127,73,37],[73,128,74,7],[73,129,74,8],[74,8,76,6],[74,12,76,10,"userStr"],[74,19,76,17],[74,23,76,21,"token"],[74,28,76,26],[74,30,76,28],[75,10,77,8],[75,16,77,14,"user"],[75,20,77,18],[75,23,77,21,"JSON"],[75,27,77,25],[75,28,77,26,"parse"],[75,33,77,31],[75,34,77,32,"userStr"],[75,41,77,39],[75,42,77,40],[76,10,78,8,"set"],[76,13,78,11],[76,14,78,12],[77,12,79,10,"user"],[77,16,79,14],[78,12,80,10,"token"],[78,17,80,15],[79,12,81,10,"isAuthenticated"],[79,27,81,25],[79,29,81,27],[79,33,81,31],[80,12,82,10,"isVendor"],[80,20,82,18],[80,22,82,20,"user"],[80,26,82,24],[80,28,82,26,"partner_type"],[80,40,82,38],[80,45,82,43],[80,53,82,51],[81,12,83,10,"isLoading"],[81,21,83,19],[81,23,83,21],[82,10,84,8],[82,11,84,9],[82,12,84,10],[83,8,85,6],[83,9,85,7],[83,15,85,13],[84,10,86,8,"set"],[84,13,86,11],[84,14,86,12],[85,12,86,14,"isLoading"],[85,21,86,23],[85,23,86,25],[86,10,86,31],[86,11,86,32],[86,12,86,33],[87,8,87,6],[88,6,88,4],[88,7,88,5],[88,8,88,6],[88,15,88,13,"error"],[88,20,88,18],[88,22,88,20],[89,8,89,6,"console"],[89,15,89,13],[89,16,89,14,"error"],[89,21,89,19],[89,22,89,20],[89,50,89,48],[89,52,89,50,"error"],[89,57,89,55],[89,58,89,56],[90,8,90,6,"set"],[90,11,90,9],[90,12,90,10],[91,10,90,12,"isLoading"],[91,19,90,21],[91,21,90,23],[92,8,90,29],[92,9,90,30],[92,10,90,31],[93,6,91,4],[94,4,92,2],[95,2,93,0],[95,3,93,1],[95,4,93,2],[95,5,93,3],[96,0,93,4],[96,3]],"functionMap":{"names":["<global>","create$argument_0","setUser","setToken","setLoading","logout","loadStoredAuth"],"mappings":"AAA;8CCiB;WCO;GDW;YEE;GFO;cGE,iCH;UIE;GJkB;kBKE;GLuB;EDC"},"hasCjsExports":false},"type":"js/module"}]}